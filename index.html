<!DOCTYPE html>
<html>
  <head>
    <title>CTS 2018 Progress Tracker</title>
    <script>
    	//var num_vids;
    	
    	var num_vids = [105, 106, 28, 24, 36, 0, 0];
    	var week_totals = [105, 211, 239, 263, 299, 299, 299];
    	var vid_total = week_totals[week_totals.length-1];

    	/*function computeWeekTotals(week, num){
    		switch(week){
    			case 1: 
    				num_vids = num_week1_vids;
    				break;
				case 2:
					num_vids = num_week2_vids;
					break;
				default:
					num_vids = -1;
    		}
    		return ((num / num_vids) * 100).toFixed(1);
    	}*/

    	function computeWeekPercent(total_percent){
    		var week, week_vid_total, week_vid_num, week_percent;
    		var vid_num = (total_percent / 100.0) * vid_total;

    		if (vid_num <= week_totals[0]) {
    			week = 1;
    			week_vid_total = num_vids[0];
    			week_vid_num = vid_num;

    		} else if (vid_num > week_totals[0] && vid_num <= week_totals[1]) {
    			week = 2;
    			week_vid_total = num_vids[1];
    			week_vid_num = vid_num - week_totals[0];

    		} else if (vid_num > week_totals[1] && vid_num <= week_totals[2]) {
    			week = 3;
    			week_vid_total = num_vids[2];
    			week_vid_num = vid_num - week_totals[1];

    		} else if (vid_num > week_totals[2] && vid_num <= week_totals[3]) {
    			week = 4;
    			week_vid_total = num_vids[3];
    			week_vid_num = vid_num - week_totals[2];

    		} else if (vid_num > week_totals[3] && vid_num <= week_totals[4]) {
    			week = 5;
    			week_vid_total = num_vids[4];
    			week_vid_num = vid_num - week_totals[3];

    		} else if (vid_num > week_totals[4] && vid_num <= week_totals[5]) {
    			week = 6;
    			week_vid_total = num_vids[5];
    			week_vid_num = vid_num - week_totals[4];

    		} else if (vid_num > week_totals[5] && vid_num <= week_totals[6]) {
    			week = 7;
    			week_vid_total = num_vids[6];
    			week_vid_num = vid_num - week_totals[5];
    		} else {
    			return "Not a valid percent."
    		}

    		week_percent = ((week_vid_num/week_vid_total)*100).toFixed(1);
    		console.log("Vid_num =" + vid_num);
    		console.log("Vid_week =" + week_vid_num);
    		console.log("Vid_week_total =" + week_vid_total);

    		return ("You are " + week_percent + "% through week " + week + ".")
    	}

    </script>
  </head>
  
  <body>
    <!--<form oninput="progress.value=parseInt(total.value)/">-->
	<!--<form oninput="progress.value=computeWeekTotals(1, total.value) + '%'">
		<label for="total">Week 1 videos done:</label>
		<input type="text" name="total" value="0" /><br>

		Week 1 Progress: <output name="progress"></output>
	</form>
	<br>
	<form oninput="progress.value=computeWeekTotals(2, total.value) + '%'">
		<label for="total">Week 2 videos done:</label>
		<input type="text" name="total" value="0" /><br>

		Week 2 Progress: <output name="progress"></output>
	</form>

	<br><br><br><br><br>-->

	<form oninput="progress.value = computeWeekPercent(total.value)">
		<label for="total">Enter percentage:</label>
		<input type="text" name="total" value="0" /><br>

		<output name="progress"></output>
	</form>

  </body>
<html>

<!-- 
Maybe have students plug in their percentage? 
Then divide % by 100 and multiply by total videos to get what vid they are on, 
then use if and less/greater than to see what week they are on, 
then compute percentage through the week? 
-->
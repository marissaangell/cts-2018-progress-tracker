<!DOCTYPE html>
<html>
  <head>
    <title>CTS 2018 Progress Tracker</title>
    <script>
    	var num_vids = [105, 129, 28, 24, 36, 50, 67];
    	var week_totals = [105, 234, 262, 286, 322, 372, 439];
    	var vid_total = week_totals[week_totals.length-1];

    	function computeWeekPercent(total_percent){
    		var week, week_vid_total, week_vid_num, week_percent;
    		var vid_num = (total_percent / 100.0) * vid_total;

    		if (vid_num <= week_totals[0]) {
    			week = 1;
    			week_vid_total = num_vids[0];
    			week_vid_num = vid_num;

    		} else if (vid_num > week_totals[0] && vid_num <= week_totals[1]) {
    			week = 2;
    			week_vid_total = num_vids[1];
    			week_vid_num = vid_num - week_totals[0];

    		} else if (vid_num > week_totals[1] && vid_num <= week_totals[2]) {
    			week = 3;
    			week_vid_total = num_vids[2];
    			week_vid_num = vid_num - week_totals[1];

    		} else if (vid_num > week_totals[2] && vid_num <= week_totals[3]) {
    			week = 4;
    			week_vid_total = num_vids[3];
    			week_vid_num = vid_num - week_totals[2];

    		} else if (vid_num > week_totals[3] && vid_num <= week_totals[4]) {
    			week = 5;
    			week_vid_total = num_vids[4];
    			week_vid_num = vid_num - week_totals[3];

    		} else if (vid_num > week_totals[4] && vid_num <= week_totals[5]) {
    			week = 6;
    			week_vid_total = num_vids[5];
    			week_vid_num = vid_num - week_totals[4];

    		} else if (vid_num > week_totals[5] && vid_num <= week_totals[6]) {
    			week = 7;
    			week_vid_total = num_vids[6];
    			week_vid_num = vid_num - week_totals[5];
    		} else {
    			return "Not a valid percent."
    		}

    		week_percent = ((week_vid_num/week_vid_total)*100).toFixed(1);
    		console.log("Vid_num =" + vid_num);
    		console.log("Vid_week =" + week_vid_num);
    		console.log("Vid_week_total =" + week_vid_total);

    		return ("You are " + week_percent + "% through week " + week + ".")
    	}
    </script>
  </head>
  
  <body style="display: flex; flex-direction: row; justify-content: center;">
  	<div class="container" style="display: flex; flex-direction: column;">
  		<h1>CTS 2018 Progress Tracker</h1>

		<form oninput="progress.value = computeWeekPercent(total.value)">
			<label for="total">Enter course percentage:</label>
			<input type="text" name="total" value="0" />
			<br><br>
			<output name="progress"></output>
		</form>
	</div>

  </body>
<html>